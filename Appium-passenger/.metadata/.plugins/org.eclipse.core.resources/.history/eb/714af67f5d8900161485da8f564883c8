package br.com.easytaxi.components;

import org.openqa.selenium.By;
import org.openqa.selenium.html5.Location;
import org.openqa.selenium.support.ui.ExpectedConditions;
import org.openqa.selenium.support.ui.WebDriverWait;

import br.com.easytaxi.control.BaseTest;

public class LoginComponent extends BaseTest {

	WebDriverWait wait;

	public void clickMenu() {
		driver.findElementsByClassName("android.widget.ImageButton").get(0).click();

	}

	public void clickLogin() {
		driver.findElementsById("br.com.easytaxi.homolog:id/design_menu_item_text").get(0).click();

	}

	public void setEmail(String email) {
		driver.findElementById("br.com.easytaxi.homolog:id/login").setValue(email);

	}

	public void setPassword(String senha) {
		driver.findElementById("br.com.easytaxi.homolog:id/password").setValue(senha);

	}

	public void clickSend() {
		driver.findElementById("br.com.easytaxi.homolog:id/btSend").click();

	}

	public void clickForgotPassword() {
		driver.findElementById("br.com.easytaxi.homolog:id/forgot_password").click();
	}

	public void setForgotEmail(String email) {
		driver.findElementById("br.com.easytaxi.homolog:id/email").setValue(email);
	}

	public void clickButtonNewPassWord() {
		driver.findElementById("br.com.easytaxi.homolog:id/btSend").click();
	}

	public void clickButtonAletar() {
		driver.findElementById("android:id/button1").click();
	}

	public void waitHome() {
		wait = new WebDriverWait(driver, 60);
		wait.until(ExpectedConditions.presenceOfElementLocated(By.id("br.com.easytaxi.homolog:id/img_logo")));
		Location gps = new Location(-23.541008, -46.733843, 726);
		driver.setLocation(gps);

	}

	public void waitPopUp() throws Exception {
		wait.until(ExpectedConditions.presenceOfElementLocated(By.id("android:id/button1"))).click();

	}

	public void invalidLogin() {
		driver.findElementsById("br.com.easytaxi.homolog:id/btSend");

	}

	public void logar() throws Exception{
		waitHome();
		waitPopUp();
		clickMenu();
		clickLogin();
		setEmail("lenilson.pires@easytaxi.com.br");
		setPassword("123456");
		clickSend();
		waitHome();

	}
	
	

}
